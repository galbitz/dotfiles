
# Add ~/.local/bin to path if it hasn't been added
[[ ":$PATH:" != *":$HOME/.local/bin:"* ]] && PATH="$HOME/.local/bin:${PATH}"

[[ ":$PATH:" != *":$HOME/.local/share/flatpak/exports/bin:"* ]] && PATH="$HOME/.local/share/flatpak/exports/bin:${PATH}"
[[ ":$PATH:" != *":/var/lib/flatpak/exports/bin:"* ]] && PATH="/var/lib/flatpak/exports/bin:${PATH}"


shell="$SHELL"
if [ -n "$shell" ]; then
    shell_name=$(basename "$shell")
fi

export XDG_CONFIG_HOME="$HOME/.config"

if [ -f /opt/homebrew/bin/brew ]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
fi

if [ -f /home/linuxbrew/.linuxbrew/bin/brew ]; then
    eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

# Init starship prompt
if command -v starship &> /dev/null; then
    eval "$(starship init $shell_name)"
fi

if command -v fzf &> /dev/null; then
    if [[ "$SHELL" == "/bin/bash" ]]; then
        eval "$(fzf --bash)"
    fi

    if [[ "$SHELL" == "/bin/zsh" ]]; then
        eval "$(fzf --zsh)"
    fi
fi

if command -v direnv &> /dev/null; then
    if [[ "$SHELL" == "/bin/bash" ]]; then
        eval "$(direnv hook bash)"
    fi

    if [[ "$SHELL" == "/bin/zsh" ]]; then
        eval "$(direnv hook zsh)"
    fi
fi

#command -v tmux &> /dev/null && [ -z $TMUX ] && exec tmux
#[ true ]

set -o vi
